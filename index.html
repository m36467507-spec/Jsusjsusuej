<!DOCTYPE html>
<html lang="ar" dir="rtl">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>FLIXUWX - نظام رفع الفيديوهات</title>
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0/css/all.min.css">
  <style>
    :root {
      --main-color: #7d5fff;
      --secondary-color: #1c1f3a;
      --text-color: #ffffff;
      --hover-color: #a38bff;
      --bg-dark: #0b0c2a;
    }

    * {
      margin: 0;
      padding: 0;
      box-sizing: border-box;
    }

    body {
      font-family: "Tajawal", "Poppins", Arial, sans-serif;
      background: linear-gradient(-45deg, #0b0c2a, #1c1f3a, #3d2c8d, #7d5fff);
      background-size: 400% 400%;
      animation: gradientBG 15s ease infinite;
      color: var(--text-color);
      text-align: center;
      overflow-x: hidden;
      min-height: 100vh;
    }

    @keyframes gradientBG {
      0% {background-position: 0% 50%;}
      50% {background-position: 100% 50%;}
      100% {background-position: 0% 50%;}
    }

    body::before {
      content: "";
      position: fixed;
      width: 200%;
      height: 200%;
      background: url("https://www.transparenttextures.com/patterns/stardust.png");
      animation: stars 60s linear infinite;
      opacity: 0.4;
      z-index: 0;
    }

    @keyframes stars {
      from {transform: translate(0,0);}
      to {transform: translate(-300px,-300px);}
    }

    /* التنقل */
    .navbar {
      position: fixed;
      top: 0;
      width: 100%;
      background: rgba(12, 13, 35, 0.9);
      backdrop-filter: blur(10px);
      padding: 15px 0;
      z-index: 1000;
      box-shadow: 0 2px 20px rgba(0,0,0,0.3);
    }

    .nav-container {
      max-width: 1200px;
      margin: 0 auto;
      display: flex;
      justify-content: space-between;
      align-items: center;
      padding: 0 20px;
    }

    .logo {
      font-size: 24px;
      font-weight: bold;
      color: var(--main-color);
      text-decoration: none;
    }

    .nav-links {
      display: flex;
      gap: 20px;
    }

    .nav-links a {
      color: var(--text-color);
      text-decoration: none;
      transition: 0.3s;
      padding: 8px 15px;
      border-radius: 20px;
    }

    .nav-links a:hover {
      background: var(--main-color);
      color: white;
    }

    /* تمييز زر التسجيل */
    .nav-links a.admin-link {
      background: rgba(125, 95, 255, 0.3);
      border: 1px solid var(--main-color);
    }

    .nav-links a.admin-link:hover {
      background: var(--main-color);
    }

    /* المحتوى الرئيسي */
    .main-content {
      position: relative;
      z-index: 2;
      padding: 100px 20px 50px;
      max-width: 1200px;
      margin: 0 auto;
    }

    .section {
      background: rgba(20,20,40,0.5);
      border-radius: 20px;
      backdrop-filter: blur(10px);
      box-shadow: 0 0 25px rgba(125,95,255,0.3);
      padding: 30px;
      margin: 30px 0;
      animation: fadeIn 1.5s ease;
    }

    @keyframes fadeIn {
      from {opacity: 0; transform: translateY(40px);}
      to {opacity: 1; transform: translateY(0);}
    }

    /* الهيدر */
    .hero {
      text-align: center;
      padding: 40px 0;
    }

    .avatar {
      width: 150px;
      height: 150px;
      border-radius: 50%;
      border: 4px solid var(--main-color);
      margin: 20px auto;
      object-fit: cover;
      box-shadow: 0 0 25px var(--main-color);
      transition: 0.3s;
    }

    .avatar:hover {
      transform: scale(1.05);
      box-shadow: 0 0 35px var(--hover-color);
    }

    h1 {
      font-size: 32px;
      margin-bottom: 10px;
      color: #bbaaff;
      text-shadow: 0 0 10px var(--main-color), 0 0 20px var(--main-color);
      animation: glowText 2s ease-in-out infinite alternate;
    }

    @keyframes glowText {
      from {text-shadow: 0 0 10px var(--main-color);}
      to {text-shadow: 0 0 20px #fff;}
    }

    p {
      max-width: 600px;
      margin: 15px auto 30px;
      line-height: 1.7;
      font-size: 16px;
      opacity: 0.85;
    }

    /* الأزرار */
    .btn-container {
      display: grid;
      grid-template-columns: repeat(auto-fit, minmax(250px, 1fr));
      gap: 15px;
      margin: 20px 0;
    }

    .btn {
      display: flex;
      align-items: center;
      justify-content: center;
      gap: 10px;
      margin: 0 auto;
      padding: 14px;
      border-radius: 14px;
      text-decoration: none;
      font-weight: bold;
      background: var(--secondary-color);
      color: white;
      transition: 0.3s;
      border: 1px solid var(--main-color);
      cursor: pointer;
      box-shadow: 0 0 15px rgba(125,95,255,0.3);
    }

    .btn:hover {
      background: var(--main-color);
      box-shadow: 0 0 25px var(--main-color), 0 0 40px var(--hover-color);
      transform: scale(1.05);
    }

    /* قسم الأغاني */
    .songs-section {
      text-align: right;
    }

    .song-list {
      list-style: none;
      margin: 20px 0;
    }

    .song-item {
      display: flex;
      align-items: center;
      justify-content: space-between;
      padding: 15px;
      margin: 10px 0;
      background: rgba(255,255,255,0.1);
      border-radius: 10px;
      transition: 0.3s;
    }

    .song-item:hover {
      background: rgba(255,255,255,0.2);
      transform: translateX(-5px);
    }

    .song-info {
      text-align: right;
      flex: 1;
    }

    .song-title {
      font-weight: bold;
      font-size: 18px;
    }

    .song-artist {
      opacity: 0.8;
      font-size: 14px;
    }

    .song-duration {
      opacity: 0.7;
      font-size: 14px;
    }

    /* Spotify Embed */
    .spotify-container {
      margin: 30px 0;
    }

    .spotify-embed {
      border-radius: 12px;
      overflow: hidden;
      box-shadow: 0 0 20px rgba(0,0,0,0.5);
    }

    /* قسم الفيديوهات */
    .videos-section {
      text-align: center;
    }
    
    .video-grid {
      display: grid;
      grid-template-columns: repeat(auto-fill, minmax(300px, 1fr));
      gap: 20px;
      margin-top: 20px;
    }
    
    .video-item {
      background: rgba(255, 255, 255, 0.1);
      border-radius: 12px;
      overflow: hidden;
      transition: transform 0.3s, box-shadow 0.3s;
    }
    
    .video-item:hover {
      transform: translateY(-5px);
      box-shadow: 0 10px 20px rgba(0, 0, 0, 0.3);
    }
    
    .video-thumbnail {
      width: 100%;
      height: 180px;
      object-fit: cover;
    }
    
    .video-info {
      padding: 15px;
    }
    
    .video-title {
      font-weight: bold;
      margin-bottom: 5px;
    }
    
    .video-description {
      font-size: 14px;
      opacity: 0.8;
    }
    
    .video-link {
      display: block;
      margin-top: 10px;
      color: var(--main-color);
      text-decoration: none;
      font-size: 14px;
      word-break: break-all;
    }
    
    .video-link:hover {
      text-decoration: underline;
    }
    
    /* نافذة تسجيل الدخول */
    .login-modal {
      display: none;
      position: fixed;
      top: 0;
      left: 0;
      width: 100%;
      height: 100%;
      background: rgba(0, 0, 0, 0.8);
      z-index: 2000;
      justify-content: center;
      align-items: center;
    }
    
    .login-form {
      background: var(--secondary-color);
      padding: 30px;
      border-radius: 15px;
      width: 90%;
      max-width: 400px;
      box-shadow: 0 0 30px var(--main-color);
    }
    
    .form-group {
      margin-bottom: 20px;
      text-align: right;
    }
    
    .form-group label {
      display: block;
      margin-bottom: 8px;
      font-weight: bold;
    }
    
    .form-group input, .form-group textarea {
      width: 100%;
      padding: 12px;
      border-radius: 8px;
      border: 1px solid var(--main-color);
      background: rgba(255, 255, 255, 0.1);
      color: white;
      font-family: inherit;
    }
    
    .form-group input[type="file"] {
      padding: 8px;
    }
    
    /* نافذة إضافة فيديو */
    .add-video-modal {
      display: none;
      position: fixed;
      top: 0;
      left: 0;
      width: 100%;
      height: 100%;
      background: rgba(0, 0, 0, 0.8);
      z-index: 2000;
      justify-content: center;
      align-items: center;
    }
    
    .add-video-form {
      background: var(--secondary-color);
      padding: 30px;
      border-radius: 15px;
      width: 90%;
      max-width: 500px;
      box-shadow: 0 0 30px var(--main-color);
      max-height: 90vh;
      overflow-y: auto;
    }
    
    /* زر إضافة فيديو للمسؤول */
    .admin-btn {
      position: fixed;
      bottom: 20px;
      right: 20px;
      width: 60px;
      height: 60px;
      border-radius: 50%;
      background: var(--main-color);
      color: white;
      display: flex;
      justify-content: center;
      align-items: center;
      font-size: 24px;
      cursor: pointer;
      z-index: 100;
      box-shadow: 0 0 15px var(--main-color);
      transition: all 0.3s;
    }
    
    .admin-btn:hover {
      transform: scale(1.1);
      box-shadow: 0 0 25px var(--main-color);
    }

    /* الفوتر */
    footer {
      margin-top: 50px;
      padding: 20px;
      font-size: 12px;
      opacity: 0.7;
      background: rgba(0,0,0,0.3);
      border-top: 1px solid var(--main-color);
    }

    /* شريط التقدم */
    .progress-bar {
      height: 10px;
      background: rgba(255, 255, 255, 0.2);
      border-radius: 5px;
      margin-top: 10px;
      overflow: hidden;
    }
    
    .progress {
      height: 100%;
      background: var(--main-color);
      width: 0%;
      transition: width 0.3s;
    }
    
    /* تعليمات التوضيح */
    .instructions {
      background: rgba(125, 95, 255, 0.2);
      border: 1px solid var(--main-color);
      border-radius: 10px;
      padding: 15px;
      margin: 20px 0;
      text-align: right;
    }
    
    .instructions h3 {
      color: var(--main-color);
      margin-bottom: 10px;
    }
    
    .instructions ol {
      text-align: right;
      padding-right: 20px;
    }
    
    .instructions li {
      margin-bottom: 10px;
    }

    /* Responsive Design */
    @media (max-width: 768px) {
      .nav-container {
        flex-direction: column;
        gap: 15px;
      }

      .nav-links {
        flex-wrap: wrap;
        justify-content: center;
      }

      .btn-container {
        grid-template-columns: 1fr;
      }

      .section {
        padding: 20px;
      }

      h1 {
        font-size: 28px;
      }
      
      .video-grid {
        grid-template-columns: 1fr;
      }
    }
  </style>
</head>
<body>
  <!-- شريط التنقل -->
  <nav class="navbar">
    <div class="nav-container">
      <a href="#" class="logo">FLIXUWX</a>
      <div class="nav-links">
        <a href="#home">الرئيسية</a>
        <a href="#songs">الأغاني</a>
        <a href="#videos">الفيديوهات</a>
        <a href="#contact">اتصل بنا</a>
        <a href="#about">عن الفريق</a>
        <!-- زر تسجيل الدخول سيتم إضافته هنا via JavaScript -->
      </div>
    </div>
  </nav>

  <!-- المحتوى الرئيسي -->
  <div class="main-content">
    <!-- الهيدر -->
    <section id="home" class="section hero">
      <img src="https://via.placeholder.com/150" alt="Avatar" class="avatar">
      <h1>Na FLIX from me Team Its H-X</h1>
      <p>
        Welcome to the empty space and limitless dreams,<br>
        Nothing is impossible in this world,<br>
        So strive as much as you can and with all your strength.
      </p>
      
      <div class="instructions">
        <h3><i class="fas fa-info-circle"></i> كيف تسجل الدخول:</h3>
        <ol>
          <li>انظر إلى شريط التنقل العلوي</li>
          <li>ابحث عن زر "Admin" أو "مسؤول" على اليمين</li>
          <li>انقر عليه وادخل بيانات الاعتماد:</li>
          <li>اسم المستخدم: <strong>admin</strong></li>
          <li>كلمة السر: <strong>flix123</strong></li>
        </ol>
      </div>
    </section>

    <!-- أزرار الروابط -->
    <section class="section">
      <h2><i class="fas fa-link"></i> روابط سريعة</h2>
      <div class="btn-container">
        <a class="btn" href="https://t.me/yourTelegram" target="_blank" onclick="playSound()">
          <i class="fab fa-telegram"></i> Contact Telegram
        </a>
        <a class="btn" href="https://chat.whatsapp.com/yourChannelLink" target="_blank" onclick="playSound()">
          <i class="fab fa-whatsapp"></i> Channel WhatsApp
        </a>
        <a class="btn" href="https://t.me/yourTelegramChannel" target="_blank" onclick="playSound()">
          <i class="fab fa-telegram"></i> Channel Telegram
        </a>
        <a class="btn" href="https://example.com" target="_blank" onclick="playSound()">
          <i class="fas fa-shield-alt"></i> FLIX KILL?
        </a>
      </div>
    </section>

    <!-- قسم الأغاني الحزينة -->
    <section id="songs" class="section songs-section">
      <h2><i class="fas fa-music"></i> Egyptian Sad Songs</h2>
      
      <div class="song-list">
        <div class="song-item">
          <div class="song-info">
            <div class="song-title">سكرتي</div>
            <div class="song-artist">Wegz</div>
          </div>
          <div class="song-duration">03:30</div>
        </div>
        
        <div class="song-item">
          <div class="song-info">
            <div class="song-title">Baad El Kalam</div>
            <div class="song-artist">احمد كامل</div>
          </div>
          <div class="song-duration">03:52</div>
        </div>
        
        <div class="song-item">
          <div class="song-info">
            <div class="song-title">Aleb Fel Dafater</div>
            <div class="song-artist">Muslim - فسلم</div>
          </div>
          <div class="song-duration">05:06</div>
        </div>
      </div>

      <!-- Spotify Embed -->
      <div class="spotify-container">
        <h3><i class="fab fa-spotify"></i> Listen on Spotify</h3>
        <div class="spotify-embed">
          <iframe style="border-radius:12px" 
            src="https://open.spotify.com/embed/playlist/6iIMNVX99AYSDOXnx3Qv7S?utm_source=generator"
            width="100%" height="380" frameborder="0"
            allow="autoplay; clipboard-write; encrypted-media; fullscreen; picture-in-picture">
          </iframe>
        </div>
      </div>
    </section>

    <!-- قسم الفيديوهات الجديد -->
    <section id="videos" class="section videos-section">
      <h2><i class="fas fa-video"></i> الفيديوهات الحصرية</h2>
      <p>هنا يمكنك العثور على محتوى الفيديو الحصري الخاص بنا. الأفضل فقط لمجتمعنا.</p>
      
      <div class="video-grid" id="videoContainer">
        <!-- الفيديوهات سيتم إضافتها هنا عبر JavaScript -->
        <p>لا توجد فيديوهات متاحة بعد. سجل الدخول كمسؤول لإضافة فيديوهات.</p>
      </div>
    </section>

    <!-- قسم عن الفريق -->
    <section id="about" class="section">
      <h2><i class="fas fa-users"></i> About Our Team</h2>
      <p>We are a passionate team dedicated to creating amazing content and experiences. Our mission is to bring joy and inspiration to people through our work.</p>
    </section>

    <!-- تواصل معنا -->
    <section id="contact" class="section">
      <h2><i class="fas fa-envelope"></i> Contact Us</h2>
      <p>Have questions or want to collaborate? Reach out to us through our social media channels or email.</p>
    </section>
  </div>

  <!-- زر الإدارة (يظهر فقط للمسؤول بعد تسجيل الدخول) -->
  <div class="admin-btn" id="adminButton" style="display: none;" onclick="showAddVideoForm()">
    <i class="fas fa-plus"></i>
  </div>

  <!-- نافذة تسجيل الدخول -->
  <div class="login-modal" id="loginModal">
    <div class="login-form">
      <h2><i class="fas fa-lock"></i> تسجيل الدخول للمسؤول</h2>
      <div class="form-group">
        <label for="username">اسم المستخدم</label>
        <input type="text" id="username" placeholder="أدخل اسم المستخدم">
      </div>
      <div class="form-group">
        <label for="password">كلمة المرور</label>
        <input type="password" id="password" placeholder="أدخل كلمة المرور">
      </div>
      <button class="btn" onclick="login()">تسجيل الدخول</button>
      <button class="btn" style="background: #ff6b6b; margin-top: 10px;" onclick="hideLogin()">إلغاء</button>
      <p id="loginMessage" style="color: #ff6b6b; margin-top: 15px; display: none;">بيانات الاعتماد غير صحيحة</p>
      
      <div style="margin-top: 20px; padding: 10px; background: rgba(0,0,0,0.2); border-radius: 8px;">
        <p>بيانات الاعتماد الافتراضية:</p>
        <p>اسم المستخدم: <strong>admin</strong></p>
        <p>كلمة المرور: <strong>flix123</strong></p>
      </div>
    </div>
  </div>

  <!-- نافذة إضافة فيديو -->
  <div class="add-video-modal" id="addVideoModal">
    <div class="add-video-form">
      <h2><i class="fas fa-plus-circle"></i> إضافة فيديو جديد</h2>
      <div class="form-group">
        <label for="videoTitle">عنوان الفيديو</label>
        <input type="text" id="videoTitle" placeholder="أدخل عنوان الفيديو">
      </div>
      <div class="form-group">
        <label for="videoFile">رفع ملف الفيديو</label>
        <input type="file" id="videoFile" accept="video/*">
        <div class="progress-bar" id="progressBar" style="display: none;">
          <div class="progress" id="progress"></div>
        </div>
        <p id="uploadStatus"></p>
      </div>
      <div class="form-group">
        <label for="videoThumbnail">صورة مصغرة (اختياري)</label>
        <input type="file" id="videoThumbnail" accept="image/*">
      </div>
      <div class="form-group">
        <label for="videoDescription">وصف الفيديو</label>
        <textarea id="videoDescription" placeholder="أدخل وصف الفيديو" rows="3"></textarea>
      </div>
      <button class="btn" onclick="addVideo()">إضافة الفيديو</button>
      <button class="btn" style="background: #ff6b6b; margin-top: 10px;" onclick="hideAddVideoForm()">إلغاء</button>
    </div>
  </div>

  <footer>
    © 2025 Every little while there is FLIX rights | Designed with ❤️ by FLIXUWX Team
  </footer>

  <!-- الصوت -->
  <audio id="btnSound" src="https://assets.mixkit.co/sfx/preview/mixkit-select-click-1109.mp3"></audio>

  <script>
    // بيانات الاعتماد الثابتة (يمكنك تغييرها)
    const ADMIN_USERNAME = "admin";
    const ADMIN_PASSWORD = "flix123";
    
    // مفتاح التخزين المحلي
    const STORAGE_KEY = "flixuwx_videos";
    const AUTH_KEY = "flixuwx_auth";
    
    // عناصر DOM
    const loginModal = document.getElementById('loginModal');
    const addVideoModal = document.getElementById('addVideoModal');
    const adminButton = document.getElementById('adminButton');
    const videoContainer = document.getElementById('videoContainer');
    const loginMessage = document.getElementById('loginMessage');
    const progressBar = document.getElementById('progressBar');
    const progress = document.getElementById('progress');
    const uploadStatus = document.getElementById('uploadStatus');
    
    // تحميل الفيديوهات المحفوظة عند بدء التشغيل
    let videos = JSON.parse(localStorage.getItem(STORAGE_KEY)) || [];
    
    // التحقق من حالة تسجيل الدخول
    const isLoggedIn = localStorage.getItem(AUTH_KEY) === 'true';
    if (isLoggedIn) {
      adminButton.style.display = 'flex';
    }
    
    // إضافة زر التسجيل إلى شريط التنقل
    function setupAdminLink() {
      const navLinks = document.querySelector('.nav-links');
      // إزالة أي زر مسؤول موجود مسبقًا
      const existingAdminLink = document.querySelector('.nav-links a.admin-link');
      if (existingAdminLink) {
        existingAdminLink.remove();
      }
      
      const authLink = document.createElement('a');
      authLink.href = '#';
      authLink.className = 'admin-link';
      authLink.innerHTML = isLoggedIn ? '<i class="fas fa-sign-out-alt"></i> تسجيل الخروج' : '<i class="fas fa-sign-in-alt"></i> مسؤول';
      authLink.onclick = isLoggedIn ? logout : showLogin;
      navLinks.appendChild(authLink);
    }
    
    // عرض نافذة تسجيل الدخول
    function showLogin() {
      loginModal.style.display = 'flex';
      playSound();
    }
    
    // إخفاء نافذة تسجيل الدخول
    function hideLogin() {
      loginModal.style.display = 'none';
      loginMessage.style.display = 'none';
      playSound();
    }
    
    // تسجيل الدخول
    function login() {
      const username = document.getElementById('username').value;
      const password = document.getElementById('password').value;
      
      if (username === ADMIN_USERNAME && password === ADMIN_PASSWORD) {
        localStorage.setItem(AUTH_KEY, 'true');
        adminButton.style.display = 'flex';
        hideLogin();
        playSound();
        
        // تحديث واجهة المستخدم
        setupAdminLink();
        renderVideos();
      } else {
        loginMessage.style.display = 'block';
      }
    }
    
    // تسجيل الخروج
    function logout() {
      localStorage.removeItem(AUTH_KEY);
      adminButton.style.display = 'none';
      playSound();
      
      // تحديث واجهة المستخدم
      setupAdminLink();
      renderVideos();
    }
    
    // عرض نموذج إضافة فيديو
    function showAddVideoForm() {
      if (localStorage.getItem(AUTH_KEY) === 'true') {
        addVideoModal.style.display = 'flex';
        playSound();
      } else {
        showLogin();
      }
    }
    
    // إخفاء نموذج إضافة فيديو
    function hideAddVideoForm() {
      addVideoModal.style.display = 'none';
      playSound();
    }
    
    // تحويل الملف إلى رابط مباشر
    function getObjectURL(file) {
      return URL.createObjectURL(file);
    }
    
    // إضافة فيديو جديد
    function addVideo() {
      const title = document.getElementById('videoTitle').value;
      const videoFile = document.getElementById('videoFile').files[0];
      const thumbnailFile = document.getElementById('videoThumbnail').files[0];
      const description = document.getElementById('videoDescription').value;
      
      if (title && videoFile) {
        // عرض شريط التقدم
        progressBar.style.display = 'block';
        uploadStatus.textContent = 'جاري رفع الفيديو...';
        
        // محاكاة عملية الرفع (في الواقع، سيتم تحويل الملف إلى رابط مباشر)
        let progressValue = 0;
        const progressInterval = setInterval(() => {
          progressValue += 5;
          progress.style.width = progressValue + '%';
          
          if (progressValue >= 100) {
            clearInterval(progressInterval);
            
            // إنشاء رابط مباشر للفيديو
            const videoURL = getObjectURL(videoFile);
            let thumbnailURL = 'https://via.placeholder.com/300x180?text=صورة+مصغرة';
            
            if (thumbnailFile) {
              thumbnailURL = getObjectURL(thumbnailFile);
            }
            
            const newVideo = {
              id: Date.now(), // استخدام الطوابع الزمنية كمعرف فريد
              title,
              videoURL,
              thumbnailURL,
              description,
              filename: videoFile.name,
              uploadDate: new Date().toLocaleDateString('ar-EG')
            };
            
            videos.push(newVideo);
            localStorage.setItem(STORAGE_KEY, JSON.stringify(videos));
            renderVideos();
            
            uploadStatus.textContent = 'تم رفع الفيديو بنجاح!';
            uploadStatus.style.color = '#4caf50';
            
            // إخفاء شريط التقدم بعد ثواني
            setTimeout(() => {
              progressBar.style.display = 'none';
              hideAddVideoForm();
            }, 1500);
            
            playSound();
            
            // مسح الحقول
            document.getElementById('videoTitle').value = '';
            document.getElementById('videoFile').value = '';
            document.getElementById('videoThumbnail').value = '';
            document.getElementById('videoDescription').value = '';
          }
        }, 100);
      } else {
        uploadStatus.textContent = 'الرجاء إدخال عنوان الفيديو ورفع الملف';
        uploadStatus.style.color = '#ff6b6b';
      }
    }
    
    // حذف فيديو
    function deleteVideo(id) {
      if (confirm('هل أنت متأكد من أنك تريد حذف هذا الفيديو؟')) {
        // تحرير الذاكرة عن طريق إلغاء ربط عناوين URL للكائنات
        const videoToDelete = videos.find(video => video.id === id);
        if (videoToDelete) {
          URL.revokeObjectURL(videoToDelete.videoURL);
          if (videoToDelete.thumbnailURL && !videoToDelete.thumbnailURL.includes('via.placeholder.com')) {
            URL.revokeObjectURL(videoToDelete.thumbnailURL);
          }
        }
        
        videos = videos.filter(video => video.id !== id);
        localStorage.setItem(STORAGE_KEY, JSON.stringify(videos));
        renderVideos();
        playSound();
      }
    }
    
    // عرض الفيديوهات
    function renderVideos() {
      videoContainer.innerHTML = '';
      
      if (videos.length === 0) {
        videoContainer.innerHTML = '<p>لا توجد فيديوهات متاحة بعد. سجل الدخول كمسؤول لإضافة فيديوهات.</p>';
        return;
      }
      
      videos.forEach(video => {
        const videoElement = document.createElement('div');
        videoElement.className = 'video-item';
        videoElement.innerHTML = `
          <img src="${video.thumbnailURL}" alt="${video.title}" class="video-thumbnail">
          <div class="video-info">
            <div class="video-title">${video.title}</div>
            <div class="video-description">${video.description}</div>
            <div class="video-description">تم الرفع: ${video.uploadDate}</div>
            <a href="${video.videoURL}" class="video-link" target="_blank" download="${video.filename}">
              <i class="fas fa-download"></i> رابط تحميل مباشر
            </a>
            <div style="margin-top: 10px;">
              <button class="btn" style="padding: 8px; margin: 5px;" onclick="playVideo('${video.videoURL}')">
                <i class="fas fa-play"></i> تشغيل
              </button>
              ${localStorage.getItem(AUTH_KEY) === 'true' ? `
                <button class="btn" style="padding: 8px; margin: 5px; background: #ff6b6b;" onclick="deleteVideo(${video.id})">
                  <i class="fas fa-trash"></i> حذف
                </button>
              ` : ''}
            </div>
          </div>
        `;
        videoContainer.appendChild(videoElement);
      });
    }
    
    // تشغيل الفيديو في نافذة منبثقة
    function playVideo(url) {
      const videoPopup = document.createElement('div');
      videoPopup.style.position = 'fixed';
      videoPopup.style.top = '0';
      videoPopup.style.left = '0';
      videoPopup.style.width = '100%';
      videoPopup.style.height = '100%';
      videoPopup.style.backgroundColor = 'rgba(0,0,0,0.9)';
      videoPopup.style.zIndex = '2000';
      videoPopup.style.display = 'flex';
      videoPopup.style.justifyContent = 'center';
      videoPopup.style.alignItems = 'center';
      videoPopup.innerHTML = `
        <div style="position: relative; width: 80%; max-width: 800px;">
          <video controls autoplay style="width: 100%; border-radius: 10px;">
            <source src="${url}" type="video/mp4">
            متصفحك لا يدعم تشغيل الفيديو.
          </video>
          <button style="position: absolute; top: -40px; right: 0; background: #ff6b6b; border: none; color: white; padding: 10px; border-radius: 5px; cursor: pointer;" onclick="this.parentElement.parentElement.remove()">
            <i class="fas fa-times"></i> إغلاق
          </button>
        </div>
      `;
      document.body.appendChild(videoPopup);
      playSound();
    }
    
    // التأكد من تحميل الفيديوهات عند بدء التشغيل
    document.addEventListener('DOMContentLoaded', function() {
      renderVideos();
      setupAdminLink();
    });

    function playSound() {
      var sound = document.getElementById("btnSound");
      sound.currentTime = 0; 
      sound.play().catch(e => console.log("Audio play failed:", e));
    }

    // Smooth scrolling for navigation links
    document.querySelectorAll('a[href^="#"]').forEach(anchor => {
      anchor.addEventListener('click', function (e) {
        e.preventDefault();
        document.querySelector(this.getAttribute('href')).scrollIntoView({
          behavior: 'smooth'
        });
      });
    });

    // Navbar background change on scroll
    window.addEventListener('scroll', function() {
      const navbar = document.querySelector('.navbar');
      if (window.scrollY > 100) {
        navbar.style.background = 'rgba(12, 13, 35, 0.95)';
      } else {
        navbar.style.background = 'rgba(12, 13, 35, 0.9)';
      }
    });
    
    // إغلاق النوافذ عند النقر خارجها
    window.addEventListener('click', function(event) {
      if (event.target === loginModal) {
        hideLogin();
      }
      if (event.target === addVideoModal) {
        hideAddVideoForm();
      }
    });
  </script>
</body>
</html>